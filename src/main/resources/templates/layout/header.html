<!DOCTYPE html>
<html lang=en>
<head>
    <meta charset=utf-8>
    <meta http-equiv=X-UA-Compatible content="IE=edge">
    <meta name=viewport content="width=device-width,initial-scale=1">

    <title>{{custom-title}}</title>

    <!-- bpmn-js viewer -->
    <link type="text/css" rel="stylesheet" href="{{context-path}}css/modeler.css"/>

    <!-- Bootstrap core CSS -->
    <link rel="stylesheet" type="text/css" href="{{context-path}}css/bootstrap.min.css"/>
    <link rel="stylesheet" type="text/css" href="{{context-path}}css/bpmn-js.css"/>

    <link rel="stylesheet" type="text/css" href="{{context-path}}css/app.css"/>
    <link rel="stylesheet" type="text/css" href="{{context-path}}{{custom-css-path}}"/>

    <link rel=icon href="{{context-path}}img/favicon.ico">

</head>

<body onload="connect()" onunload="disconnect()">

<nav class="navbar navbar-expand-md navbar-light bg-white mb-2 top-nav-border">
    <a class="navbar-brand" href="{{context-path}}">
        <img src="{{context-path}}{{logo-path}}" height="36" alt="Logo">
        <span id="header-title" class="h3">{{custom-title}}</span>
    </a>

    <div class="collapse navbar-collapse">
        <ul class="navbar-nav mr-auto">
            <li class="nav-item">
                <a class="nav-link" href="{{context-path}}views/processes">Processes</a>
            </li>
            <li class="nav-item">
                <a class="nav-link" href="{{context-path}}views/instances">Instances</a>
            </li>
            <li class="nav-item">
                <a class="nav-link" href="{{context-path}}views/incidents">Incidents</a>
            </li>
            <li class="nav-item">
                <a class="nav-link" href="{{context-path}}views/jobs">Jobs</a>
            <li class="nav-item">
                <a class="nav-link" href="{{context-path}}views/messages">Messages</a>
            </li>
            <li class="nav-item">
                <a class="nav-link" href="{{context-path}}views/errors">Errors</a>
            </li>
        </ul>
        <span class="navbar-text">
            Cluster:
            <!-- Button trigger modal -->
            <button id="button-show-status" type="button" class="btn {{#status.isHealthy}}btn-outline-success{{/status.isHealthy}}{{^status.isHealthy}}btn-outline-danger{{/status.isHealthy}}" data-toggle="modal" data-target="#clusterStatusModal">{{ status.healthyString }}</button>
        </span>
        {{>modals/cluster-status-modal}}
    </div>
</nav>

<div class="container-fluid">

    <div id="errorPanel" class="alert alert-danger alert-dismissible fade show" style="display:none;" role="alert">
        <!-- text will be inserted via jQuery at runtime -->
        <button type="button" class="close" aria-label="Close" onclick="(function(){jQuery('#errorPanel [data-text]').remove(); jQuery('#errorPanel').hide()}())">
            <span aria-hidden="true">&times;</span>
        </button>
    </div>

    <div id="successPanel" class="alert alert-success alert-dismissible fade show" style="display:none;" role="alert">
        <!-- text will be inserted via jQuery at runtime -->
        (<a href="#" onClick="reload()">Refresh</a>)
        <button type="button" class="close" aria-label="Close" onclick="(function(){jQuery('#successPanel [data-text]').remove(); jQuery('#successPanel').hide()}())">
            <span aria-hidden="true">&times;</span>
        </button>
    </div>

    <div id="infoPanel" class="alert alert-primary alert-dismissible fade show" style="display:none;" role="alert">
        <!-- text will be inserted via jQuery at runtime -->
        (<a href="#" onClick="reload()">Refresh</a>)
        <button type="button" class="close" aria-label="Close" onclick="(function(){jQuery('#infoPanel [data-text]').remove(); jQuery('#infoPanel').hide()}())">
            <span aria-hidden="true">&times;</span>
        </button>
    </div>
